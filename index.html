<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year ‚ú®</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}

body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow-y:auto;
  color:white;
  background: linear-gradient(135deg,#1a2a6c,#b21f1f,#fdbb2d);
  animation:bgAnimate 15s ease infinite alternate;
}

@keyframes bgAnimate{
  0%{background:#1a2a6c;}
  50%{background:#0f2027;}
  100%{background:#2575fc;}
}

.card{
  width:95%;
  max-width:420px;
  max-height:90vh;
  overflow-y:auto;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);
  border-radius:25px;
  padding:18px;
  text-align:center;
  box-shadow:0 0 40px rgba(0,0,0,0.4);
  z-index:2;
}

.hidden{display:none;}
.auto-type{color:#ffd369;font-weight:bold;}

button{
  background:white;
  color:#b21f1f;
  border:none;
  padding:10px 18px;
  border-radius:25px;
  font-size:14px;
  cursor:pointer;
  margin:6px;
}

.section-title{
  margin:18px 0 10px;
  color:#ffd369;
  font-size:17px;
}

.gameBox{
  background:rgba(0,0,0,0.25);
  border-radius:18px;
  padding:14px;
  margin-top:14px;
}

.drawCanvas{
  background:white;
  border-radius:12px;
  display:block;
  width:100%;
  height:180px;
}

.slider-img{
  width:100%;
  max-width:240px;
  height:150px;
  border-radius:12px;
  object-fit:cover;
  margin:10px auto;
  display:block;
}

#gameMessage{
  position:absolute;
  top:40%;
  width:100%;
  text-align:center;
  font-size:22px;
  color:#ffd369;
  font-weight:bold;
}

.game-heart{
  position:absolute;
  font-size:30px;
  cursor:pointer;
}

/* üî• CRUSH GALLERY */
.photo-gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  margin-top:10px;
}

.photo-gallery img{
  width:100%;
  height:140px;
  object-fit:cover;
  border-radius:12px;
}
</style>
</head>

<body>

<div id="gameMessage">Catch 5 hearts ‚ù§Ô∏è to start!</div>

<div class="card hidden" id="mainCard">
  <h1>Happy New Year ‚ú®</h1>

  <p>Hey <span class="auto-type"></span> üôÇ</p>
  <p id="msg1" class="hidden"></p>
  <p id="msg2" class="hidden"></p>

  <!-- MUSIC -->
  <div class="gameBox">
    <h3>üéµ Music</h3>
    <button onclick="prevSong()">‚èÆ</button>
    <button onclick="toggleMusic()">‚ñ∂ / ‚è∏</button>
    <button onclick="nextSong()">‚è≠</button>
  </div>

  <div class="section-title">
    Do you want to play some fun mini games?
  </div>

  <!-- DRAW -->
  <div class="gameBox">
    <h3>üé® Draw Something</h3>
    <canvas id="drawGame" class="drawCanvas"></canvas>
    <button onclick="clearDraw()">Clear</button>
    <button onclick="saveDraw()">Save üíæ</button>
  </div>

  <!-- SLIDER -->
  <div class="gameBox">
    <h3>üì∏ Photo Slider</h3>
    <img id="slider" class="slider-img" src="p2.jpeg">
    <button onclick="prevPhoto()">‚èÆ</button>
    <button onclick="nextPhoto()">‚è≠</button>
  </div>

  <!-- LOVE
  <div class="gameBox">
    <h3>üíñ Love Meter</h3>
    <button onclick="loveMeter()">Tap üíó</button>
    <p id="loveValue">0%</p>
  </div> -->

  <!-- ‚ù§Ô∏è CRUSH PHOTOS END -->
  <div class="gameBox">
    <h3>üì∑ Our Memories ‚ù§Ô∏è</h3>
    <div class="photo-gallery">
      <img src="p2.jpeg">
      <img src="p3.jpeg">
      <img src="p4.jpeg">
      <img src="p5.jpeg">
      <img src="p6.jpeg">
      <img src="p7.jpeg">
      <img src="p8.jpeg">
    </div>
  </div>
</div>

<audio id="bgMusic" loop></audio>

<script>
// HEART GAME
let hearts=0;
function spawnHeart(){
 if(hearts>=5) return;
 const h=document.createElement("div");
 h.className="game-heart";
 h.innerHTML="‚ù§Ô∏è";
 h.style.left=Math.random()*(innerWidth-40)+"px";
 h.style.top="-40px";
 document.body.appendChild(h);
 let y=-40;
 const fall=setInterval(()=>{
  y+=4;
  h.style.top=y+"px";
  if(y>innerHeight){h.remove();clearInterval(fall);}
 },20);
 h.onclick=()=>{
  hearts++;
  h.remove();
  clearInterval(fall);
  if(hearts>=5) startMain();
 };
}
setInterval(spawnHeart,700);

function startMain(){
 document.getElementById("gameMessage").style.display="none";
 document.getElementById("mainCard").classList.remove("hidden");
 typeName();
}

// TYPE TEXT
const name="Ashi vishwakarma ‚ù§Ô∏è";
let i=0;
const messages=[
 "Tu humesha mere saath rehna üíô",
 "I love you ‚ù§Ô∏è",
 "Happy New Year ‚ú®"
];

function typeName(){
 if(i<name.length){
  document.querySelector(".auto-type").textContent+=name[i++];
  setTimeout(typeName,150);
 } else typeMessages(0);
}

function typeMessages(n){
 if(n>=messages.length) return;
 const box=n<2?msg1:msg2;
 box.classList.remove("hidden");
 let x=0;
 const t=setInterval(()=>{
  if(x<messages[n].length){
   box.textContent+=messages[n][x++];
  }else{
   clearInterval(t);
   setTimeout(()=>typeMessages(n+1),600);
  }
 },50);
}

// MUSIC
const songs=["a.mpeg","a2.mpeg","a3.mpeg"];
let idx=0;
const music=document.getElementById("bgMusic");
music.src=songs[idx];
function toggleMusic(){music.paused?music.play():music.pause();}
function nextSong(){idx=(idx+1)%songs.length;music.src=songs[idx];music.play();}
function prevSong(){idx=(idx-1+songs.length)%songs.length;music.src=songs[idx];music.play();}

// DRAW
const c=document.getElementById("drawGame");
const ctx=c.getContext("2d");
function resizeCanvas(){c.width=c.offsetWidth;c.height=c.offsetHeight;}
resizeCanvas();
window.onresize=resizeCanvas;
let drawing=false;
function draw(e){
 if(!drawing) return;
 const r=c.getBoundingClientRect();
 const x=(e.touches?e.touches[0].clientX:e.clientX)-r.left;
 const y=(e.touches?e.touches[0].clientY:e.clientY)-r.top;
 ctx.fillStyle="red";
 ctx.beginPath();
 ctx.arc(x,y,3,0,Math.PI*2);
 ctx.fill();
}
c.addEventListener("mousedown",()=>drawing=true);
c.addEventListener("mouseup",()=>drawing=false);
c.addEventListener("mousemove",draw);
c.addEventListener("touchstart",()=>drawing=true);
c.addEventListener("touchend",()=>drawing=false);
c.addEventListener("touchmove",draw);
function clearDraw(){ctx.clearRect(0,0,c.width,c.height);}
function saveDraw(){
 const a=document.createElement("a");
 a.download="drawing.png";
 a.href=c.toDataURL();
 a.click();
}

// SLIDER
const photos=["p.jpeg","p2.jpeg","p3.jpeg" ,"p4.jpeg" ,"p5.jpeg" ,"p6.jpeg" ,"p7.jpeg" ,"p8.jpeg"];
let current=0;
function nextPhoto(){current=(current+1)%photos.length;slider.src=photos[current];}
function prevPhoto(){current=(current-1+photos.length)%photos.length;slider.src=photos[current];}

// LOVE
// function loveMeter(){
//  document.getElementById("loveValue").innerText=
//  Math.floor(Math.random()*40+60)+"% üíï";
// }
</script>

</body>
</html>
